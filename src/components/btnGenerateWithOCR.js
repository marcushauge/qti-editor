import { useState, useEffect } from 'react'
import Tesseract from 'tesseract.js';
import { createWorker } from 'tesseract.js';

function GenerateWithOCR(props) {

    const [someState, setSomeState] = useState(null)

    // useEffect(() => {
    //     console.log(someState)
    //     if(someState !== null) {
    //         props.testAddBbox(someState[0].bbox.x0, someState[0].bbox.y0, someState[0].bbox.x1, someState[0].bbox.y1)
    //     }
    //   }, [someState])
    

    function generateText() {
        //Needed to force copy by value
        // var i = (' ' + props.bgImg).slice(1)
        // i.replace(/^data:image\/(png|jpg);base64,/, "")

        var bg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZgAAACgCAYAAAAxZXohAAAAAXNSR0IArs4c6QAABUZ0RVh0bXhmaWxlACUzQ214ZmlsZSUyMGhvc3QlM0QlMjJhcHAuZGlhZ3JhbXMubmV0JTIyJTIwbW9kaWZpZWQlM0QlMjIyMDIxLTEwLTIwVDEzJTNBMTklM0E1Ni43MTFaJTIyJTIwYWdlbnQlM0QlMjI1LjAlMjAoV2luZG93cyUyME5UJTIwMTAuMCUzQiUyMFdpbjY0JTNCJTIweDY0KSUyMEFwcGxlV2ViS2l0JTJGNTM3LjM2JTIwKEtIVE1MJTJDJTIwbGlrZSUyMEdlY2tvKSUyMENocm9tZSUyRjk0LjAuNDYwNi43MSUyMFNhZmFyaSUyRjUzNy4zNiUyMiUyMGV0YWclM0QlMjJoQklUNXpxVm92ak5uLVFULU9GRyUyMiUyMHZlcnNpb24lM0QlMjIxNS41LjIlMjIlM0UlM0NkaWFncmFtJTIwaWQlM0QlMjJPOG5qUjFnS0FFQzZ1c3VMX3IyaCUyMiUyMG5hbWUlM0QlMjJEaWFncmFtJTIwMSUyMiUzRTdaZmZiNXN3RU1mJTJGR2g0M0JRajU4ZGlRcHRPVVN0T2lhWSUyRlRGUnl3YW56TU9BM0pYNzh6bUJESzBGSXAxZm9RaVFmZjEyZjdmSiUyQnpBY2NQcyUyRkpCUVo0JTJCWXN5RTQ0M2kwdkdYanVlNVk4OXp6RE9LRDdVeW5ZOXJJVkU4dGs2dHNPRkhac1dSVlhjOFprWEhVU01LemZPdUdLR1VMTklkRFpUQ2ZkZHRpNks3YWc0SjZ3bWJDRVJmJTJGY2xqbmRicXpKdTIlMkJoZkdrN1JaMlozTTY1NE1HbWU3a3lLRkdQZG5rbiUyRnYlMkJLRkMxSFVySzBNbVRQS2F2TlRqVmdPOXA4QVVrJTJGcVNBWlBWciUyRldSdWF0aiUyRnZ2SFF6amZ2SlRsOHBPZDVRWEV6bTc0UHNzRkhoaXpRZXREazRsaXp6TUJrcXpGRnFYZTJKNFIyVkhLUmJ5R0ElMkI1TUpJV0c2TG14RmlrcWZpUiUyRkVOVGxra0RkU2x2UTNzVE14b1VJVWFBaVFXSzFRRHRvWXlhenl5aFcwTEJ2elk3ZFY5SWpsQjNITlJTNkNSQ0ZnTHpnVDFYSVptQUdLdUZ5Z1ZwalpwMXNLcGpTckJ6TXNYc2lSeVhQTUdOYUhjakZEampCUHJ5eTkyM3R1R09ycFoyNnNTTFllazFPYzdkSXFXR3B2b0d3MXlQc2VMVFZrWVNNN0x1S3NlSXk2ZkdtTE9nS2w4Sm45b3JQWDVDQjRJa2tVN0N0R1diU3lPa1kzVmxaWTI0bXl5R2l0ZGFWejNMY0t0OXRLb3lFTkhZcnFxT1M4amhtMGhCRkRScWVUaFdYSTVlNlNsV3dvSWVTRjQ0JTJCQjA1QWdZZGt1NjFOajNGWE9rUkpld0Zla1dSVUczdG02dU15N01PSHAxOExEZnZKWmVnYnY2dVQ5d2ZJNTJsRnpLQTN5Ymh4dnk3M3dMdU1lekI3SiUyQjVCaiUyRnRYZktJc1VCS2lQdTdidGY3dmE5MmZmcmhyZlRKd3VBbUQzaFgxNldaeWw5Mk85NXVQZCUyRkN4ciUyRlhwRUhraXNnUnRiJTJGYll0RXdNdmxzZmdyT204VTV4cHpZZ2dBS3ElMkZJa00zTjRGMXk2VyUyRiUyRjR1bUEwVUM4dUFpOXZuM3p0OTljOW5GOTRSM3B1eGs5biUyQk1sWjlaeiUyRmUlMkZ2MGYlM0MlMkZkaWFncmFtJTNFJTNDJTJGbXhmaWxlJTNFSxVdYwAAHodJREFUeF7tXD1IXkkXnpRa2Jgiu0KQNFqtkC22UFhIYxsirIUKgRQmKwQMsfS/dEEQNOsHC7uohQum1mLTqJAiG9ZOmyABO222iGU+zl3Om/Fk5t6Z+9479+8Rlu/L+87POc85Z545Z2beW0qpzwp/QAAItBBYWFhQ8/PzXojcunXLqz0aA4G6I0BxRFHxmf4P/oAAEFCKYiEtwSCO4EFA4D8EOI5aBOO7YwOQQKCOCFAm0g7BII7q6BXQyRcBjiMQjC9yaF9rBEAwtTYvlAuEAAgmENCYploIgGCqZS9IW04EQDDltAukKhgBEEzBBsD0tUAABFMLM0KJrBEAwWSNKMZrIgIgmCZaHTonIgCCSYQIDYBAIgIgmESI0KCJCIBgmmh16Jw1AiCYrBHFeLVAAARTCzNCiYIRAMEUbABMX04EQDDltAukqhYCIJhq2QvSBkIABBMIaExTawRAMLU2L5RLiwAIJi1y6AcEviDQaIK5vr5W09PTanNz0+oTw8PDamdn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"

        Tesseract.recognize(
            bg,
            'eng',
            { logger: m => console.log(m) }
          ).then(({ data: { words } }) => {
            console.log(words);
            props.testAddBbox(words[0].bbox.x0, words[0].bbox.y0, words[0].bbox.x1, words[0].bbox.y1)
          })

        // const worker = createWorker({
        //     logger: m => console.log(m)
        //   });
          
        //   (async () => {
        //     await worker.load();
        //     await worker.loadLanguage('eng');
        //     await worker.initialize('eng');
        //     const { data: { words } } = await worker.recognize(bg)
        //     // const result = await worker.recognize(bg)
        //     // console.log(result.data.hocr);
        //     // console.log(result.data.words);
        //     // console.log(result.data.words[0].bbox.x0)
        //     console.log(words)
        //     console.log(words[0].bbox.x0)
        //     await props.testAddBbox(words[0].bbox.x0, words[0].bbox.y0, words[0].bbox.x1, words[0].bbox.y1)
        //     //setSomeState(words)
        //     await worker.terminate();
        //   })();
    }

    return (
        <button className="sidebtn" onClick={() => {generateText()}}>Generate With OCR</button>
    )
}
export default GenerateWithOCR